prefix  = @ac_prefix@
qmake   = @ac_qmake@

name    = qxgedit

target  = src/$(name)

headers = \
	src/config.h \
	src/XGParam.h \
	src/XGParamObserver.h \
	src/XGParamWidget.h \
	src/XGParamSysex.h \
	src/qxgeditXGMasterMap.h \
	src/qxgeditAbout.h \
	src/qxgeditAmpEg.h \
	src/qxgeditCheck.h \
	src/qxgeditCombo.h \
	src/qxgeditDrop.h \
	src/qxgeditDrumEg.h \
	src/qxgeditDial.h \
	src/qxgeditEdit.h \
	src/qxgeditFilter.h \
	src/qxgeditKnob.h \
	src/qxgeditPartEg.h \
	src/qxgeditPitch.h \
	src/qxgeditScale.h \
	src/qxgeditSpin.h \
	src/qxgeditUserEg.h \
	src/qxgeditVibra.h \
	src/qxgeditMidiDevice.h \
	src/qxgeditOptions.h \
	src/qxgeditOptionsForm.h \
	src/qxgeditMainForm.h

sources = \
	src/XGParam.cpp \
	src/XGParamObserver.cpp \
	src/XGParamWidget.cpp \
	src/XGParamSysex.cpp \
	src/qxgeditXGMasterMap.cpp \
	src/qxgeditAmpEg.cpp \
	src/qxgeditCheck.cpp \
	src/qxgeditCombo.cpp \
	src/qxgeditDial.cpp \
	src/qxgeditDrop.cpp \
	src/qxgeditDrumEg.cpp \
	src/qxgeditEdit.cpp \
	src/qxgeditFilter.cpp \
	src/qxgeditKnob.cpp \
	src/qxgeditPartEg.cpp \
	src/qxgeditPitch.cpp \
	src/qxgeditScale.cpp \
	src/qxgeditSpin.cpp \
	src/qxgeditUserEg.cpp \
	src/qxgeditVibra.cpp \
	src/qxgeditMidiDevice.cpp \
	src/qxgeditOptions.cpp \
	src/qxgeditOptionsForm.cpp \
	src/qxgeditMainForm.cpp \
	src/qxgedit.cpp

forms = \
	src/qxgeditOptionsForm.ui \
	src/qxgeditMainForm.ui

resources = \
	src/qxgedit.qrc

style_headers = \
	skulpture/sk_factory.h \
	skulpture/skulpture_p.h \
	skulpture/skulpture.h

style_sources = \
	skulpture/skulpture.cpp


export datarootdir = @datarootdir@
export localedir = @localedir@


all:	$(target)


$(target):	$(name).mak $(resources) ${forms} $(sources) $(headers) $(style_headers) $(style_sources)
	@$(MAKE) -f $(name).mak

$(name).mak:	$(name).pro
	@$(qmake) -o $(name).mak $(name).pro


install:	$(target)
	@$(MAKE) INSTALL_ROOT=$(DESTDIR) -f $(name).mak install

uninstall:	$(DESTDIR)$(prefix)/bin/$(name)
	@$(MAKE) INSTALL_ROOT=$(DESTDIR) -f $(name).mak uninstall


clean:	$(name).mak
	@$(MAKE) -f $(name).mak clean
	@rm -f $(target) $(target).mak $(name).mak
	@rm -rf *.cache *.log *.status

